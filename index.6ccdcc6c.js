function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var n=document.querySelector("table"),r=n.querySelector("tbody"),a=t(r.querySelectorAll("tr")),o=document.createElement("form");o.classList.add("new-employee-form"),[{text:"Name",type:"text",dataQa:"name"},{text:"Position",type:"text",dataQa:"position"},{text:"Office",type:"select",dataQa:"office",options:["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"]},{text:"Age",type:"number",dataQa:"age"},{text:"Salary",type:"number",dataQa:"salary"}].forEach(function(e){var t=e.text,n=e.type,r=e.dataQa,a=e.options,i=document.createElement("label"),c="select"===n?document.createElement("select"):document.createElement("input");"select"!==n&&(c.type=n),c.name=r,c.setAttribute("data-qa",r),"select"===n&&a.forEach(function(e){var t=document.createElement("option");t.value=e,t.textContent=e,c.appendChild(t)}),i.textContent="".concat(t,": "),i.appendChild(c),o.appendChild(i)});var i=document.createElement("button");function c(e,t,n){document.querySelectorAll('[data-qa="notification"]').forEach(function(e){return e.remove()});var r=document.createElement("div"),a=document.createElement("h2"),o=document.createElement("p");r.dataset.qa="notification",r.classList.add("notification",n),a.classList.add("title"),a.textContent=e,o.textContent=t,r.appendChild(a),r.appendChild(o),document.body.appendChild(r),setTimeout(function(){r.style.visibility="hidden"},2e3)}i.type="submit",i.textContent="Save to table",o.appendChild(i),document.body.appendChild(o),o.addEventListener("submit",function(e){e.preventDefault();var t=new FormData(e.target),n=t.get("name"),a=t.get("position"),o=t.get("office"),i=t.get("age"),l=t.get("salary");if(!n.trim().length){c("Invalid Name","Name is required","error");return}if(n.trim().length<4){c("Invalid Name","Name should be at least 4 characters long.","error");return}if(!a.trim().length){c("Invalid Position","Position is required","error");return}if(i<18||i>90){c("Invalid Age","Age should be between 18 and 90.","error");return}if(!l.trim().length){c("Invalid Salary","Salary is required","error");return}var d=document.createElement("tr"),u="$".concat(parseFloat(l).toLocaleString("en-US"));d.innerHTML="\n    <td>".concat(n,"</td>\n    <td>").concat(a,"</td>\n    <td>").concat(o,"</td>\n    <td>").concat(i,"</td>\n    <td>").concat(u,"</td>\n  "),r.appendChild(d),e.target.reset(),c("Success","New employee added to the table.","success"),s(d)});var l=function(e,t){if(e){var n=e.value.trim();""===n?e.parentNode.textContent=t:e.parentNode.textContent=n,e.remove()}},d={},u=function(e,n){var a=t(r.querySelectorAll("tr"));a.sort(function(t,r){var a=t.children[e].textContent,o=r.children[e].textContent;switch(n){case"Name":case"Position":case"Office":return a.localeCompare(o)*d[e];case"Age":return(a-o)*d[e];case"Salary":return(parseFloat(a.replace(/[$,]/g,""))-parseFloat(o.replace(/[$,]/g,"")))*d[e];default:return 0}}),a.forEach(function(e){return r.appendChild(e)})};function s(e){e.addEventListener("click",function(){a.forEach(function(e){e.classList.remove("active")}),e.classList.add("active")}),e.querySelectorAll("td").forEach(function(e){var t=null,n=e.textContent;e.addEventListener("dblclick",function(){if(t)l(t,n),t=null;else{var r=document.createElement("input");r.value=n,r.classList.add("cell-input"),e.textContent="",e.appendChild(r),r.focus(),t=r,r.addEventListener("blur",function(){l(r,n),t=null}),r.addEventListener("keydown",function(e){"Enter"===e.key&&(l(r,n),t=null)})}})})}n.querySelectorAll("th").forEach(function(e,t){e.addEventListener("click",function(){var n=e.textContent;d[t]=1===d[t]?-1:1,u(t,n)})}),a.forEach(s);
//# sourceMappingURL=index.6ccdcc6c.js.map
