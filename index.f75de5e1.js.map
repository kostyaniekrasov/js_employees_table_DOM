{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst tbody = table.querySelector('tbody');\nconst rows = [...tbody.querySelectorAll('tr')];\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\nconst formLabels = [\n  {\n    text: 'Name',\n    type: 'text',\n    dataQa: 'name',\n  },\n  {\n    text: 'Position',\n    type: 'text',\n    dataQa: 'position',\n  },\n  {\n    text: 'Office',\n    type: 'select',\n    dataQa: 'office',\n    options: [\n      'Tokyo',\n      'Singapore',\n      'London',\n      'New York',\n      'Edinburgh',\n      'San Francisco',\n    ],\n  },\n  {\n    text: 'Age',\n    type: 'number',\n    dataQa: 'age',\n  },\n  {\n    text: 'Salary',\n    type: 'number',\n    dataQa: 'salary',\n  },\n];\n\nformLabels.forEach(({ text, type, dataQa, options }) => {\n  const label = document.createElement('label');\n  const input =\n    type === 'select'\n      ? document.createElement('select')\n      : document.createElement('input');\n\n  if (type !== 'select') {\n    input.type = type;\n  }\n\n  input.name = dataQa;\n  input.setAttribute('data-qa', dataQa);\n\n  if (type === 'select') {\n    options.forEach((option) => {\n      const optionElement = document.createElement('option');\n\n      optionElement.value = option;\n      optionElement.textContent = option;\n      input.appendChild(optionElement);\n    });\n  }\n\n  label.textContent = `${text}: `;\n  label.appendChild(input);\n  form.appendChild(label);\n});\n\nconst submitButton = document.createElement('button');\n\nsubmitButton.type = 'submit';\nsubmitButton.textContent = 'Save to table';\nform.appendChild(submitButton);\n\ndocument.body.appendChild(form);\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const formData = new FormData(e.target);\n  const nameEmployee = formData.get('name');\n  const position = formData.get('position');\n  const office = formData.get('office');\n  const age = formData.get('age');\n  const salary = formData.get('salary');\n\n  if (!nameEmployee.trim().length) {\n    createNotification('Invalid Name', 'Name is required', 'error');\n\n    return;\n  }\n\n  if (nameEmployee.trim().length < 4) {\n    createNotification(\n      'Invalid Name',\n      'Name should be at least 4 characters long.',\n      'error',\n    );\n\n    return;\n  }\n\n  if (!position.trim().length) {\n    createNotification('Invalid Position', 'Position is required', 'error');\n\n    return;\n  }\n\n  if (age < 18 || age > 90) {\n    createNotification(\n      'Invalid Age',\n      'Age should be between 18 and 90.',\n      'error',\n    );\n\n    return;\n  }\n\n  if (!salary.trim().length) {\n    createNotification('Invalid Salary', 'Salary is required', 'error');\n\n    return;\n  }\n\n  const newRow = document.createElement('tr');\n  const salaryFormatted = `$${parseFloat(salary).toLocaleString('en-US')}`;\n\n  newRow.innerHTML = `\n    <td>${nameEmployee}</td>\n    <td>${position}</td>\n    <td>${office}</td>\n    <td>${age}</td>\n    <td>${salaryFormatted}</td>\n  `;\n\n  tbody.appendChild(newRow);\n  e.target.reset();\n  createNotification('Success', 'New employee added to the table.', 'success');\n\n  addEditingFunctionality(newRow);\n});\n\nfunction createNotification(title, description, type) {\n  const existingNotifications = document.querySelectorAll(\n    '[data-qa=\"notification\"]',\n  );\n\n  existingNotifications.forEach((notification) => notification.remove());\n\n  const notificationElement = document.createElement('div');\n  const titleElement = document.createElement('h2');\n  const descriptionElement = document.createElement('p');\n\n  notificationElement.dataset.qa = 'notification';\n  notificationElement.classList.add('notification', type);\n  titleElement.classList.add('title');\n  titleElement.textContent = title;\n  descriptionElement.textContent = description;\n\n  notificationElement.appendChild(titleElement);\n  notificationElement.appendChild(descriptionElement);\n  document.body.appendChild(notificationElement);\n\n  setTimeout(() => {\n    notificationElement.style.visibility = 'hidden';\n  }, 2000);\n}\n\nconst saveChanges = (input, initialValue) => {\n  if (input) {\n    const newValue = input.value.trim();\n\n    if (newValue === '') {\n      input.parentNode.textContent = initialValue;\n    } else {\n      input.parentNode.textContent = newValue;\n    }\n    input.remove();\n  }\n};\n\nconst sortOrder = {};\nconst sortTable = (columnIndex, sortBy) => {\n  const rowsForSort = [...tbody.querySelectorAll('tr')];\n\n  rowsForSort.sort((row1, row2) => {\n    const value1 = row1.children[columnIndex].textContent;\n    const value2 = row2.children[columnIndex].textContent;\n\n    switch (sortBy) {\n      case 'Name':\n      case 'Position':\n      case 'Office':\n        return value1.localeCompare(value2) * sortOrder[columnIndex];\n      case 'Age':\n        return (value1 - value2) * sortOrder[columnIndex];\n      case 'Salary':\n        const salary1 = parseFloat(value1.replace(/[$,]/g, ''));\n        const salary2 = parseFloat(value2.replace(/[$,]/g, ''));\n\n        return (salary1 - salary2) * sortOrder[columnIndex];\n      default:\n        return 0;\n    }\n  });\n  rowsForSort.forEach((row) => tbody.appendChild(row));\n};\n\ntable.querySelectorAll('th').forEach((th, index) => {\n  th.addEventListener('click', () => {\n    const sortBy = th.textContent;\n\n    sortOrder[index] = sortOrder[index] === 1 ? -1 : 1;\n    sortTable(index, sortBy);\n  });\n});\n\nfunction addEditingFunctionality(row) {\n  row.addEventListener('click', () => {\n    rows.forEach((r) => {\n      r.classList.remove('active');\n    });\n    row.classList.add('active');\n  });\n\n  const cells = row.querySelectorAll('td');\n\n  cells.forEach((cell) => {\n    let cellInput = null;\n    const initialValue = cell.textContent;\n\n    cell.addEventListener('dblclick', () => {\n      if (cellInput) {\n        saveChanges(cellInput, initialValue);\n        cellInput = null;\n      } else {\n        const input = document.createElement('input');\n\n        input.value = initialValue;\n        input.classList.add('cell-input');\n        cell.textContent = '';\n        cell.appendChild(input);\n        input.focus();\n        cellInput = input;\n\n        input.addEventListener('blur', () => {\n          saveChanges(input, initialValue);\n          cellInput = null;\n        });\n\n        input.addEventListener('keydown', (e) => {\n          if (e.key === 'Enter') {\n            saveChanges(input, initialValue);\n            cellInput = null;\n          }\n        });\n      }\n    });\n  });\n}\n\nrows.forEach(addEditingFunctionality);\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}